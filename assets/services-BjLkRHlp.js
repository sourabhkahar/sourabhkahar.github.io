import{I as p,L as _,M as h,N as f,O as d,J as g,K as i,H as m,P as b,C as y,R as D,S as w,Q as c,T as A,U as P,V as R}from"./index-CJG_VkOa.js";const r="services",o="artists",S=3;let n=[],u="",s=[],v=null;async function x(t="",e){u=t;const a=p(i(c,o,e,r),g("deleted_at","==",null),d("name"),d("created_at","desc"),f(t),h(t+""),_(S));s=await m(a),v=s.docs[s.docs.length-1],n=[],n.push(s.docs[0])}async function C(t,e){const a=p(i(c,o,e,r),g("deleted_at","==",null),d("name"),d("created_at","desc"),f(u),h(u+""),P(t),_(S));s=await m(a),n.push(s.docs[0]),v=s.docs[s.docs.length-1]}async function F(t){if(n.length===0)return;n.pop();const e=n[n.length-1],a=p(i(c,o,t,r),g("deleted_at","==",null),d("name"),d("created_at","desc"),f(u),h(u+""),f(e),_(S));s=await m(a),v=s.docs.at(-1)}async function N(t){const e=p(i(c,o,t,r),g("deleted_at","==",null));return(await b(e)).data().count}async function V(t,e){const a=w(c,o,t,r,e),l=await A(a);return l.exists()?l.data():{}}async function k(t,e,a){try{const l={updated_at:y(),...e};return await D(w(c,o,a,r,t),l,{merge:!0}),!0}catch{return!1}}async function B(t,e){try{const a={updated_at:y(),created_at:y(),deleted_at:null,artist_id:e,...t};return await R(i(c,o,e,r),a)}catch{return!1}}export{C as a,v as b,n as c,s as d,B as e,V as f,F as g,x as l,S as p,N as t,k as u};
