import{N as p,O as i,P as l,Q as c,R as h,S as m,U as g,V as d,W as v,X as n,J as y,Y as D,Z as A,$ as b,a0 as q,a1 as P}from"./index-DdIKIjWg.js";const o="artists",_=10;let r=[],f="",s=[],w=null;async function F(t=""){f=t;const a=i(c(n,o),l("deleted_at","==",null),d("name"),d("created_at","desc"),g(t),m(t+""),h(_));s=await p(a),w=s.docs[s.docs.length-1],r=[],r.push(s.docs[0])}async function N(t){const a=i(c(n,o),l("deleted_at","==",null),d("name"),d("created_at","desc"),g(f),m(f+""),q(t),h(_));s=await p(a),r.push(s.docs[0]),w=s.docs[s.docs.length-1]}async function V(){if(r.length===0)return;r.pop();const t=r[r.length-1],a=i(c(n,o),l("deleted_at","==",null),d("name"),d("created_at","desc"),g(f),m(f+""),g(t),h(_));s=await p(a),w=s.docs.at(-1)}async function W(){const t=i(c(n,o),l("deleted_at","==",null));return(await v(t)).data().count}async function k(t){const a=A(n,o,t),e=await b(a);return e.exists()?e.data():{}}async function B(t,a){try{const e={updated_at:y(),...a};return await D(A(n,o,t),e,{merge:!0}),!0}catch{return!1}}async function C(t){try{const a={updated_at:y(),created_at:y(),deleted_at:null,...t};return await P(c(n,o),a,{merge:!0})}catch{return!1}}async function J(){const t=await p(i(c(n,"artists"),l("deleted_at","==",null))),a=[];for(const e of t.docs){const u={id:e.id,...e.data()},S=await R(u.id);a.push({artist:u,services:S})}return a}async function R(t){const a=i(c(n,"artists",t,"services"),l("deleted_at","==",null));return(await p(a)).docs.map(u=>({id:u.id,...u.data()}))}export{V as a,N as b,r as c,s as d,w as e,k as f,J as g,C as h,F as l,_ as p,W as t,B as u};
