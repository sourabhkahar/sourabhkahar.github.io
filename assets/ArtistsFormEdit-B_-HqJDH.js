import{D as p,E as h,o as g,c as w,a,e,t as v,B as b,m as o,p as n,k as x}from"./index-CJG_VkOa.js";import{_ as y,a as A,b as S}from"./Footer-CgKOfuvu.js";import{_ as $}from"./Artistsform-D1X-3Ehk.js";import{c as k,a as i,u as B}from"./index.esm-C3uyvUlW.js";import{f as E,u as F}from"./artists-DOrdVQXf.js";import"./index-Bt1p5Q3g.js";import"./relativeTime-BwjEz1Rs.js";import"./auth-RszhuPUS.js";import"./config-aeT5C0xW.js";const D={class:"flex overflow-hidden bg-white pt-16"},j={id:"main-content",class:"h-full w-full bg-gray-50 relative overflow-y-auto lg:ml-64"},q={class:"w-full flex items-center justify-center p-2"},M={class:"container max-w-6xl"},N={class:"bg-white rounded-xl shadow-md overflow-hidden p-4"},P={class:"bg-white rounded-xl overflow-hidden p-4 m-2"},V={class:"text-2xl font-bold text-gray-800 mb-4"},T={__name:"ArtistsFormEdit",setup(I){const r=p().params.id,s=h({name:null,designation:"",description:null});let l=k({name:i().required(),designation:i().required(),description:i().nullable()});async function d(){const t=await E(r);if(!t||Object.keys(t).length===0){o.error("Artist not found!"),n.push({name:"admin-artists"});return}s.name=t.name,s.designation=t.designation,s.description=t.description,u({values:{...s}})}const{validate:c,values:m,resetForm:u}=B({validationSchema:l}),f=async()=>{const{valid:t}=await c();t?await F(r,m)?(o.success("Artist added successfully!"),n.push({name:"artists"})):o.error("Something went wrong while adding an artist!"):o.error("Please Fill form Properly!")};return g(()=>{d()}),(t,_)=>(x(),w("div",null,[a(y),e("div",D,[a(A),e("div",j,[e("main",null,[e("div",q,[e("div",M,[e("div",N,[e("div",P,[e("h2",V,"Edit Artist "+v(s.name)+" !",1)]),e("form",{class:"w-full mx-auto bg-white p-8 rounded-md",onSubmit:b(f,["prevent"])},[a($)],32)])])])]),a(S)])])]))}};export{T as default};
