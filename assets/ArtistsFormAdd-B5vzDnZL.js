import{c as u,a as i,e as s,B as f,k as _,m as a,p as g}from"./index-B1SWeNZu.js";import{_ as w,a as h,b as v}from"./Footer-Bf7pOiKO.js";import{_ as x,u as b}from"./fileupload-DBMS5Vd_.js";import{c as y,b as A,a as o,u as F}from"./index.esm-DjURDs9A.js";import{h as $}from"./artists-BlKJWPW6.js";import"./index-D42EpKAL.js";import"./relativeTime-BEV6EcOH.js";import"./auth-DuC4k0Xm.js";import"./config-aeT5C0xW.js";const S={class:"flex overflow-hidden bg-white pt-16"},B={id:"main-content",class:"h-full w-full bg-gray-50 relative overflow-y-auto lg:ml-64"},q={class:"w-full flex items-center justify-center p-2"},E={class:"container max-w-6xl"},I={class:"bg-white rounded-xl shadow-md overflow-hidden p-4"},j=2097152,X={__name:"ArtistsFormAdd",setup(k){const n={image:["jpg","gif","png","jpeg","svg","webp"]};function l(e,t){return e&&n[t].indexOf(e.split(".").pop())>-1}let d=y({name:o().required(),designation:o().required(),description:o().nullable(),image:A().required("Required").test("is-valid-type","Not a valid image type",e=>l(e&&e.name.toLowerCase(),"image")).test("is-valid-size","Max allowed size is 100KB",e=>e&&e.size<=j)});const{validate:m,values:r,resetForm:z}=F({validationSchema:d}),c=async()=>{const{valid:e}=await m();if(e){const t=await b(r.image),p={...r,image:t};await $(p)?(a.success("Artist added successfully!"),g.push({name:"artists"})):a.error("Something went wrong while adding an artist!")}else a.error("Please Fill form Properly!")};return(e,t)=>(_(),u("div",null,[i(w),s("div",S,[i(h),s("div",B,[s("main",null,[s("div",q,[s("div",E,[s("div",I,[t[0]||(t[0]=s("div",{class:"bg-white rounded-xl overflow-hidden p-4 m-2"},[s("h2",{class:"text-2xl font-bold text-gray-800 mb-4"},"Add Artist")],-1)),s("form",{class:"w-full mx-auto bg-white p-8 rounded-md",onSubmit:f(c,["prevent"])},[i(x)],32)])])])]),i(v)])])]))}};export{X as default};
