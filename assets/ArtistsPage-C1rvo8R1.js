import{r as l,o as V,z as $,c as r,a as i,e,h as T,A as _,i as E,f as F,q as I,u as a,F as L,g as U,j as n,t as x,y as b,B as k,m as N,C as q,k as d}from"./index-B1SWeNZu.js";import{_ as G,a as H,b as J}from"./Footer-Bf7pOiKO.js";import{l as K,t as O,p as R,c as v,d as Q,u as W,a as X,b as Y,e as Z}from"./artists-BlKJWPW6.js";import{d as ee}from"./relativeTime-BEV6EcOH.js";import{u as te}from"./index-Bgqf5bho.js";import"./index-D42EpKAL.js";import"./auth-DuC4k0Xm.js";const se={class:"flex overflow-hidden bg-white pt-16"},oe={id:"main-content",class:"h-full w-full bg-gray-50 relative overflow-y-auto lg:ml-64"},ae={class:"w-full flex items-center justify-center p-2 pt-6 px-4"},le={class:"container max-w-6xl"},re={class:"bg-white rounded-xl shadow-md overflow-hidden"},ie={class:"p-6 border-b border-gray-200"},ne={class:"flex flex-col md:flex-row md:items-center md:justify-between"},de={class:"mt-4 md:mt-0"},ce={class:"mt-6 flex flex-col sm:flex-row gap-4"},ue={class:"relative flex-grow"},me={class:"overflow-x-auto"},pe={class:"min-w-full divide-y divide-gray-200"},xe={class:"bg-white divide-y divide-gray-200"},ve={class:"px-6 py-4 whitespace-nowrap"},ge={class:"flex items-center"},fe={class:"h-10 w-10 flex-shrink-0"},he=["src"],we={class:"ml-4"},ye={class:"text-sm font-medium text-gray-900"},_e={class:"px-6 py-4 whitespace-nowrap"},be={class:"text-sm text-gray-900"},ke={class:"px-6 py-4 whitespace-nowrap"},Ce={class:"text-sm text-gray-900"},Ae={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},De=["onClick"],Me={class:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},Le={class:"flex items-center justify-between flex-col sm:flex-row"},Ne={class:"mb-4 sm:mb-0"},Re={class:"text-sm text-gray-700"},ze={class:"font-medium"},Be={class:"font-medium"},je={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Pe=["disabled"],Se=["disabled"],Ve={key:0,id:"deleteModal",class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50"},$e={class:"w-full max-w-md rounded-lg bg-white p-6 shadow-lg"},Te={class:"mt-6 flex justify-end gap-3"},Ee=["disabled"],Fe={key:0},Ie={key:1,class:"h-5 w-5 border-2 border-white border-t-transparent rounded-full animate-spin"},Xe={__name:"ArtistsPage",setup(Ue){const c=l([]),g=l(0);let f=1;const h=l(null),u=l(!1),C=l(null),m=l(!1);V(async()=>{y()});function z(s){const t=s.toDate(),p={year:"numeric",month:"long",day:"numeric"};return t.toLocaleDateString(void 0,p)}function w(){c.value=[],Q.forEach(s=>{c.value.push({...s.data(),id:s.id})})}async function B(){await Y(Z),f++,w()}async function j(){await X(),f--,w()}async function y(s=""){await K(s),g.value=await O(),w()}const A=$(()=>c.value.length<R||f*R>=g.value),D=te(async()=>{await y(h.value)},1e3);function M(s){u.value=!u.value,C.value=s}async function P(){m.value=!0;const s={deleted_at:q()};await W(C.value,s)?N.success("Artists deleted sucessfully !"):N.success("Unable to deleted artists !"),u.value=!u.value,m.value=!1,y()}return(s,t)=>{const p=E("RouterLink");return d(),r(L,null,[i(G),e("div",se,[i(H),e("div",oe,[e("main",null,[e("div",ae,[e("div",le,[e("div",re,[e("div",ie,[e("div",ne,[t[3]||(t[3]=e("div",null,[e("h2",{class:"text-xl font-bold text-gray-800"},"Add Artists ")],-1)),e("div",de,[i(p,{to:"/admin/artists/add",class:"bg-black hover:bg-white text-white hover:text-black border border-black font-medium py-2 px-4 rounded-lg transition duration-150 ease-in-out cursor-pointer"},{default:_(()=>[...t[2]||(t[2]=[n(" Add Member ",-1)])]),_:1})])]),e("div",ce,[e("div",ue,[t[4]||(t[4]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),F(e("input",{type:"text",class:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-full",placeholder:"Search members...",onInput:t[0]||(t[0]=(...o)=>a(D)&&a(D)(...o)),"onUpdate:modelValue":t[1]||(t[1]=o=>h.value=o)},null,544),[[I,h.value]])])])]),e("div",me,[e("table",pe,[t[7]||(t[7]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Designation "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Created At "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",xe,[(d(!0),r(L,null,U(c.value,(o,S)=>(d(),r("tr",{key:S,class:"hover:bg-gray-50 transition-colors duration-150"},[e("td",ve,[e("div",ge,[e("div",fe,[e("img",{class:"h-10 w-10 rounded-full object-cover",src:o.image||a(ee),alt:""},null,8,he)]),e("div",we,[e("div",ye,x(o.name),1)])])]),e("td",_e,[e("div",be,x(o.designation),1)]),e("td",ke,[e("div",Ce,x(z(o.created_at)),1)]),e("td",Ae,[i(p,{to:`artists/${o.id}/edit/`,class:"text-indigo-600 hover:text-indigo-900 mr-3"},{default:_(()=>[...t[5]||(t[5]=[n("Edit ",-1)])]),_:1},8,["to"]),e("a",{href:"#",onClick:k(qe=>M(o.id),["prevent"]),class:"text-red-600 hover:text-red-900"},"Delete",8,De),i(p,{to:{name:"artists-services",params:{id:o.id}},class:"text-indigo-600 hover:text-indigo-900 ml-3"},{default:_(()=>[...t[6]||(t[6]=[n("Services ",-1)])]),_:1},8,["to"])])]))),128))])])]),e("div",Me,[e("div",Le,[e("div",Ne,[e("p",Re,[t[8]||(t[8]=n(" Showing ",-1)),e("span",ze,x(c.value.length),1),t[9]||(t[9]=n(" of ",-1)),e("span",Be,x(g.value),1),t[10]||(t[10]=n(" results ",-1))])]),e("div",null,[e("nav",je,[e("button",{onClick:k(j,["prevent"]),disabled:a(v).length==0||a(v).length==1,class:b([a(v).length==0||a(v).length==1?"cursor-not-allowed":"cursor-pointer","relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"])},[...t[11]||(t[11]=[e("span",{class:"sr-only"},"Previous",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])],10,Pe),e("button",{onClick:k(B,["prevent"]),disabled:A.value,class:b([A.value?"cursor-not-allowed":"cursor-pointer","relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 "])},[...t[12]||(t[12]=[e("span",{class:"sr-only"},"Next",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)])],10,Se)])])])])])])])]),u.value?(d(),r("div",Ve,[e("div",$e,[t[13]||(t[13]=e("h2",{class:"text-lg font-semibold text-gray-900"}," Delete record? ",-1)),t[14]||(t[14]=e("p",{class:"mt-2 text-sm text-gray-600"}," Are you sure you want to delete this record? ",-1)),e("div",Te,[e("button",{onClick:M,class:"rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 cursor-pointer"}," Cancel "),e("button",{onClick:P,disabled:m.value,class:b([m.value?"cursor-pointer-none":"cursor-pointer","rounded-md bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 cursor-pointer"])},[m.value?(d(),r("div",Ie)):(d(),r("span",Fe,"Delete"))],10,Ee)])])])):T("",!0),i(J)])])],64)}}};export{Xe as default};
