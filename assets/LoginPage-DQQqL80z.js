import{r as L,l as S,m as p,p as U,c as i,a as j,e as s,u as o,f,q as b,s as x,x as w,t as g,y as V,F as q,k as d}from"./index-CJG_VkOa.js";import{u as A,c as B,a as y}from"./index.esm-C3uyvUlW.js";import{_ as P}from"./Navigation-PY2jjMcd.js";import{u as T}from"./auth-RszhuPUS.js";import"./index-Bt1p5Q3g.js";const $={class:"h-screen bg-black overflow-hidden relative flex flex-col items-center justify-center"},D={class:"mb-4"},E={class:"text-red-500"},N={class:"mb-4"},R={class:"text-red-500"},z=["disabled"],C={key:0},I={key:1,class:"h-5 w-5 border-2 border-white border-t-transparent rounded-full animate-spin"},Q={__name:"LoginPage",setup(M){const v=T(),r=L(!1),{handleSubmit:h,defineField:m,errors:u,resetForm:k}=A({validationSchema:B({email:y().email().required(),password:y().min(6).required()})}),[a,_]=m("email"),[l,F]=m("password"),c=h(async n=>{r.value=!0;const e=await S(n.email,n.password);if(e.code)p.error(e.message);else{const t={name:e.user.email,token:e.accessToken,id:e.user.uid};v.setUser(t),k(),p.success("Login successfully. !"),setTimeout(function(){U.push({name:"admin-dashboard"})},2e3)}r.value=!1});return(n,e)=>(d(),i(q,null,[j(P),s("section",$,[e[6]||(e[6]=s("h1",{class:"text-2xl font-bold mb-6 text-center text-white"},"Login Form",-1)),s("form",{class:"w-full max-w-sm mx-auto bg-white p-8 rounded-md shadow-md",onSubmit:e[2]||(e[2]=(...t)=>o(c)&&o(c)(...t))},[s("div",D,[e[3]||(e[3]=s("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"email"},"Email",-1)),f(s("input",x({class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-500",type:"email",id:"email",name:"email",placeholder:"john@example.com","onUpdate:modelValue":e[0]||(e[0]=t=>w(a)?a.value=t:null)},o(_)),null,16),[[b,o(a)]]),s("div",E,g(o(u).email),1)]),s("div",N,[e[4]||(e[4]=s("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"password"},"Password",-1)),f(s("input",x({class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-500",type:"password",id:"password",name:"password",placeholder:"********","onUpdate:modelValue":e[1]||(e[1]=t=>w(l)?l.value=t:null)},o(F)),null,16),[[b,o(l)]]),s("div",R,g(o(u).password),1)]),s("button",{class:V([r.value?"cursor-pointer-none":"cursor-pointer","w-full bg-black text-white text-sm font-bold py-2 px-4 rounded-md hover:bg-white border border-black hover:text-black transition duration-300 flex justify-center"]),type:"submit",disabled:r.value},[r.value?(d(),i("div",I)):(d(),i("span",C,"Login"))],10,z),e[5]||(e[5]=s("a",{href:"/register",class:"text-gray-500 hover:text-black text-sm font-bold ml-4 flex justify-center"},"Already have an account? Registration",-1))],32)])],64))}};export{Q as default};
