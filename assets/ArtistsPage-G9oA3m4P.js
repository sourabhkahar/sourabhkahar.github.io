import{r as a,o as V,s as $,c as l,a as i,e,g as T,x as b,h as E,w as F,v as q,u as r,F as L,f as I,i as n,t as x,q as _,y as k,k as N,z as U,j as d}from"./index-COr2qVOa.js";import{_ as G,a as H,b as J}from"./Footer-CNtf0rzS.js";import{l as K,t as O,p as R,c as g,d as Q,u as W,a as X,b as Y,e as Z}from"./artists-3WX5vzua.js";import{u as ee}from"./index-C7gX6U2y.js";import"./index-hxjPLK0_.js";import"./relativeTime-jR1PWZxo.js";import"./auth-DEp5Klu_.js";const te={class:"flex overflow-hidden bg-white pt-16"},se={id:"main-content",class:"h-full w-full bg-gray-50 relative overflow-y-auto lg:ml-64"},oe={class:"w-full flex items-center justify-center p-2"},ae={class:"container max-w-6xl"},le={class:"bg-white rounded-xl shadow-md overflow-hidden"},ie={class:"p-6 border-b border-gray-200"},re={class:"flex flex-col md:flex-row md:items-center md:justify-between"},ne={class:"mt-4 md:mt-0"},de={class:"mt-6 flex flex-col sm:flex-row gap-4"},ce={class:"relative flex-grow"},ue={class:"overflow-x-auto"},me={class:"min-w-full divide-y divide-gray-200"},pe={class:"bg-white divide-y divide-gray-200"},xe={class:"px-6 py-4 whitespace-nowrap"},ge={class:"flex items-center"},ve={class:"ml-4"},fe={class:"text-sm font-medium text-gray-900"},he={class:"px-6 py-4 whitespace-nowrap"},we={class:"text-sm text-gray-900"},ye={class:"px-6 py-4 whitespace-nowrap"},be={class:"text-sm text-gray-900"},_e={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},ke=["onClick"],Ce={class:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},De={class:"flex items-center justify-between flex-col sm:flex-row"},Ae={class:"mb-4 sm:mb-0"},Me={class:"text-sm text-gray-700"},Le={class:"font-medium"},Ne={class:"font-medium"},Re={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},ze=["disabled"],je=["disabled"],Be={key:0,id:"deleteModal",class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50"},Pe={class:"w-full max-w-md rounded-lg bg-white p-6 shadow-lg"},Se={class:"mt-6 flex justify-end gap-3"},Ve=["disabled"],$e={key:0},Te={key:1,class:"h-5 w-5 border-2 border-white border-t-transparent rounded-full animate-spin"},Oe={__name:"ArtistsPage",setup(Ee){const c=a([]),v=a(0);let f=1;const h=a(null),u=a(!1),C=a(null),m=a(!1);V(async()=>{y()});function z(s){const t=s.toDate(),p={year:"numeric",month:"long",day:"numeric"};return t.toLocaleDateString(void 0,p)}function w(){c.value=[],Q.forEach(s=>{c.value.push({...s.data(),id:s.id})})}async function j(){await Y(Z),f++,w()}async function B(){await X(),f--,w()}async function y(s=""){await K(s),v.value=await O(),w()}const D=$(()=>c.value.length<R||f*R>=v.value),A=ee(async()=>{await y(h.value)},1e3);function M(s){u.value=!u.value,C.value=s}async function P(){m.value=!0;const s={deleted_at:U()};await W(C.value,s)?N.success("Artists deleted sucessfully !"):N.success("Unable to deleted artists !"),u.value=!u.value,m.value=!1,y()}return(s,t)=>{const p=E("RouterLink");return d(),l(L,null,[i(G),e("div",te,[i(H),e("div",se,[e("main",null,[e("div",oe,[e("div",ae,[e("div",le,[e("div",ie,[e("div",re,[t[3]||(t[3]=e("div",null,[e("h2",{class:"text-xl font-bold text-gray-800"},"Add Artists ")],-1)),e("div",ne,[i(p,{to:"/admin/artists/add",class:"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-lg transition duration-150 ease-in-out cursor-pointer"},{default:b(()=>[...t[2]||(t[2]=[n(" Add Member ",-1)])]),_:1})])]),e("div",de,[e("div",ce,[t[4]||(t[4]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),F(e("input",{type:"text",class:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-full",placeholder:"Search members...",onInput:t[0]||(t[0]=(...o)=>r(A)&&r(A)(...o)),"onUpdate:modelValue":t[1]||(t[1]=o=>h.value=o)},null,544),[[q,h.value]])])])]),e("div",ue,[e("table",me,[t[8]||(t[8]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Designation "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Created At "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",pe,[(d(!0),l(L,null,I(c.value,(o,S)=>(d(),l("tr",{key:S,class:"hover:bg-gray-50 transition-colors duration-150"},[e("td",xe,[e("div",ge,[t[5]||(t[5]=e("div",{class:"h-10 w-10 flex-shrink-0"},[e("img",{class:"h-10 w-10 rounded-full object-cover",src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:""})],-1)),e("div",ve,[e("div",fe,x(o.name),1)])])]),e("td",he,[e("div",we,x(o.designation),1)]),e("td",ye,[e("div",be,x(z(o.created_at)),1)]),e("td",_e,[i(p,{to:`artists/${o.id}/edit/`,class:"text-indigo-600 hover:text-indigo-900 mr-3"},{default:b(()=>[...t[6]||(t[6]=[n("Edit ",-1)])]),_:1},8,["to"]),e("a",{href:"#",onClick:k(Fe=>M(o.id),["prevent"]),class:"text-red-600 hover:text-red-900"},"Delete",8,ke),i(p,{to:{name:"artists-services",params:{id:o.id}},class:"text-indigo-600 hover:text-indigo-900 ml-3"},{default:b(()=>[...t[7]||(t[7]=[n("Services ",-1)])]),_:1},8,["to"])])]))),128))])])]),e("div",Ce,[e("div",De,[e("div",Ae,[e("p",Me,[t[9]||(t[9]=n(" Showing ",-1)),e("span",Le,x(c.value.length),1),t[10]||(t[10]=n(" of ",-1)),e("span",Ne,x(v.value),1),t[11]||(t[11]=n(" results ",-1))])]),e("div",null,[e("nav",Re,[e("button",{onClick:k(B,["prevent"]),disabled:r(g).length==0||r(g).length==1,class:_([r(g).length==0||r(g).length==1?"cursor-not-allowed":"cursor-pointer","relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"])},[...t[12]||(t[12]=[e("span",{class:"sr-only"},"Previous",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])],10,ze),e("button",{onClick:k(j,["prevent"]),disabled:D.value,class:_([D.value?"cursor-not-allowed":"cursor-pointer","relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 "])},[...t[13]||(t[13]=[e("span",{class:"sr-only"},"Next",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)])],10,je)])])])])])])])]),u.value?(d(),l("div",Be,[e("div",Pe,[t[14]||(t[14]=e("h2",{class:"text-lg font-semibold text-gray-900"}," Delete record? ",-1)),t[15]||(t[15]=e("p",{class:"mt-2 text-sm text-gray-600"}," Are you sure you want to delete this record? ",-1)),e("div",Se,[e("button",{onClick:M,class:"rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 cursor-pointer"}," Cancel "),e("button",{onClick:P,disabled:m.value,class:_([m.value?"cursor-pointer-none":"cursor-pointer","rounded-md bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 cursor-pointer"])},[m.value?(d(),l("div",Te)):(d(),l("span",$e,"Delete"))],10,Ve)])])])):T("",!0),i(J)])])],64)}}};export{Oe as default};
