import{O as p,R as _,S as h,U as f,V as d,P as g,Q as i,N as m,W as b,J as y,Y as D,Z as w,X as c,$ as A,a0 as P,a1 as R}from"./index-Di_9kfkF.js";const r="services",o="artists",S=3;let n=[],u="",s=[],v=null;async function x(t="",e){u=t;const a=p(i(c,o,e,r),g("deleted_at","==",null),d("name"),d("created_at","desc"),f(t),h(t+""),_(S));s=await m(a),v=s.docs[s.docs.length-1],n=[],n.push(s.docs[0])}async function F(t,e){const a=p(i(c,o,e,r),g("deleted_at","==",null),d("name"),d("created_at","desc"),f(u),h(u+""),P(t),_(S));s=await m(a),n.push(s.docs[0]),v=s.docs[s.docs.length-1]}async function N(t){if(n.length===0)return;n.pop();const e=n[n.length-1],a=p(i(c,o,t,r),g("deleted_at","==",null),d("name"),d("created_at","desc"),f(u),h(u+""),f(e),_(S));s=await m(a),v=s.docs.at(-1)}async function V(t){const e=p(i(c,o,t,r),g("deleted_at","==",null));return(await b(e)).data().count}async function k(t,e){const a=w(c,o,t,r,e),l=await A(a);return l.exists()?l.data():{}}async function B(t,e,a){try{const l={updated_at:y(),...e};return await D(w(c,o,a,r,t),l,{merge:!0}),!0}catch{return!1}}async function C(t,e){try{const a={updated_at:y(),created_at:y(),deleted_at:null,artist_id:e,...t};return await R(i(c,o,e,r),a)}catch{return!1}}export{F as a,v as b,n as c,s as d,C as e,k as f,N as g,x as l,S as p,V as t,B as u};
