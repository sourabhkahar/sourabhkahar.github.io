import{r as L,A as S,B as p,C as U,c as i,f as j,b as s,u as o,y as b,D as f,E as x,G as w,t as g,x as A,F as B,o as d}from"./index-C6rW8FPM.js";import{u as V,c as D,a as y}from"./index.esm-CaFyF4OX.js";import{_ as E}from"./Navigation-_GxmXhlT.js";import{u as P}from"./auth-DraRdW_M.js";import"./index-JTiW9mDs.js";const T={class:"h-screen bg-black overflow-hidden relative flex flex-col items-center justify-center"},$={class:"mb-4"},q={class:"text-red-500"},C={class:"mb-4"},N={class:"text-red-500"},R=["disabled"],z={key:0},G={key:1,class:"h-5 w-5 border-2 border-white border-t-transparent rounded-full animate-spin"},Q={__name:"LoginPage",setup(I){const v=P(),r=L(!1),{handleSubmit:h,defineField:m,errors:u,resetForm:k}=V({validationSchema:D({email:y().email().required(),password:y().min(6).required()})}),[a,_]=m("email"),[l,F]=m("password"),c=h(async n=>{r.value=!0;const e=await S(n.email,n.password);if(e.code)p.error(e.message);else{const t={name:e.user.email,token:e.accessToken,id:e.user.uid};v.setUser(t),k(),p.success("Login successfully. !"),setTimeout(function(){U.push({name:"admin-dashboard"})},2e3)}r.value=!1});return(n,e)=>(d(),i(B,null,[j(E),s("section",T,[e[6]||(e[6]=s("h1",{class:"text-2xl font-bold mb-6 text-center text-white"},"Login Form",-1)),s("form",{class:"w-full max-w-sm mx-auto bg-white p-8 rounded-md shadow-md",onSubmit:e[2]||(e[2]=(...t)=>o(c)&&o(c)(...t))},[s("div",$,[e[3]||(e[3]=s("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"email"},"Email",-1)),b(s("input",x({class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-500",type:"email",id:"email",name:"email",placeholder:"john@example.com","onUpdate:modelValue":e[0]||(e[0]=t=>w(a)?a.value=t:null)},o(_)),null,16),[[f,o(a)]]),s("div",q,g(o(u).email),1)]),s("div",C,[e[4]||(e[4]=s("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"password"},"Password",-1)),b(s("input",x({class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-500",type:"password",id:"password",name:"password",placeholder:"********","onUpdate:modelValue":e[1]||(e[1]=t=>w(l)?l.value=t:null)},o(F)),null,16),[[f,o(l)]]),s("div",N,g(o(u).password),1)]),s("button",{class:A([r.value?"cursor-pointer-none":"cursor-pointer","w-full bg-black text-white text-sm font-bold py-2 px-4 rounded-md hover:bg-white border border-black hover:text-black transition duration-300 flex justify-center"]),type:"submit",disabled:r.value},[r.value?(d(),i("div",G)):(d(),i("span",z,"Login"))],10,R),e[5]||(e[5]=s("a",{href:"/register",class:"text-gray-500 hover:text-black text-sm font-bold ml-4 flex justify-center"},"Already have an account? Registration",-1))],32)])],64))}};export{Q as default};
