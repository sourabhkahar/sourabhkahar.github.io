import{T as f}from"./index-01Awn__5.js";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const m=()=>{};function d(i,r){function t(...e){return new Promise((n,o)=>{Promise.resolve(i(()=>r.apply(this,e),{fn:r,thisArg:this,args:e})).then(n).catch(o)})}return t}function T(i,r={}){let t,e,n=m;const o=a=>{clearTimeout(a),n(),n=m};let l;return a=>{const s=f(i),c=f(r.maxWait);return t&&o(t),s<=0||c!==void 0&&c<=0?(e&&(o(e),e=void 0),Promise.resolve(a())):new Promise((u,p)=>{n=r.rejectOnCancel?p:u,l=a,c&&!e&&(e=setTimeout(()=>{t&&o(t),e=void 0,u(l())},c)),t=setTimeout(()=>{e&&o(e),e=void 0,u(a())},s)})}}function x(i,r=200,t={}){return d(T(r,t),i)}export{x as u};
