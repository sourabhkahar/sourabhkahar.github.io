import{r as l,D as T,o as $,z as E,c as i,a as n,e,h as F,A as _,u as a,i as I,f as q,q as U,F as B,g as G,j as d,t as v,y as k,B as C,m as L,C as H,k as c}from"./index-CtrhFGsF.js";import{_ as J,a as K,b as O}from"./Footer-iaX5pPN1.js";import{l as Q,t as W,p as N,c as f,d as X,u as Y,g as Z,a as ee,b as te}from"./services-DCckF8iR.js";import{u as se}from"./index-C2ThvbBg.js";import"./index-CqDn1U8g.js";import"./relativeTime-BF1LT_ud.js";import"./auth-ChqSgRNT.js";const oe={class:"flex overflow-hidden bg-white pt-16"},ae={id:"main-content",class:"h-full w-full bg-gray-50 relative overflow-y-auto lg:ml-64"},re={class:"w-full flex items-center justify-center p-2 pt-6 px-4"},le={class:"container max-w-6xl"},ie={class:"bg-white rounded-xl shadow-md overflow-hidden"},ne={class:"p-6 border-b border-gray-200"},de={class:"flex flex-col md:flex-row md:items-center md:justify-between"},ce={class:"mt-4 md:mt-0 flex"},ue={class:"mt-6 flex flex-col sm:flex-row gap-4"},pe={class:"relative flex-grow"},me={class:"overflow-x-auto"},xe={class:"min-w-full divide-y divide-gray-200"},ve={class:"bg-white divide-y divide-gray-200"},fe={class:"px-6 py-4 whitespace-nowrap"},ge={class:"flex items-center"},he={class:"ml-4"},we={class:"text-sm font-medium text-gray-900"},be={class:"px-6 py-4 whitespace-nowrap"},ye={class:"text-sm text-gray-900"},_e={class:"px-6 py-4 whitespace-nowrap"},ke={class:"text-sm text-gray-900"},Ce={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},De=["onClick"],Se={class:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},Me={class:"flex items-center justify-between flex-col sm:flex-row"},Re={class:"mb-4 sm:mb-0"},Be={class:"text-sm text-gray-700"},Le={class:"font-medium"},Ne={class:"font-medium"},ze={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Ae=["disabled"],Pe=["disabled"],je={key:0,id:"deleteModal",class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50"},Ve={class:"w-full max-w-md rounded-lg bg-white p-6 shadow-lg"},Te={class:"mt-6 flex justify-end gap-3"},$e=["disabled"],Ee={key:0},Fe={key:1,class:"h-5 w-5 border-2 border-white border-t-transparent rounded-full animate-spin"},Xe={__name:"ServicesPage",setup(Ie){const u=l([]),g=l(0);let h=1;const w=l(null),p=l(!1),D=l(null),m=l(!1),r=T().params.id;$(async()=>{y()});function z(s){const t=s.toDate(),x={year:"numeric",month:"long",day:"numeric"};return t.toLocaleDateString(void 0,x)}function b(){u.value=[],X.forEach(s=>{u.value.push({...s.data(),id:s.id})})}async function A(){await ee(te,r),h++,b()}async function P(){await Z(r),h--,b()}async function y(s=""){await Q(s,r),g.value=await W(r),b()}const S=E(()=>u.value.length<N||h*N>=g.value),M=se(async()=>{await y(w.value)},1e3);function R(s){p.value=!p.value,D.value=s}async function j(){m.value=!0;const s={deleted_at:H()};await Y(D.value,s,r)?L.success("Artists deleted sucessfully !"):L.success("Unable to deleted artists !"),p.value=!p.value,m.value=!1,y()}return(s,t)=>{const x=I("RouterLink");return c(),i(B,null,[n(J),e("div",oe,[n(K),e("div",ae,[e("main",null,[e("div",re,[e("div",le,[e("div",ie,[e("div",ne,[e("div",de,[t[4]||(t[4]=e("div",null,[e("h2",{class:"text-xl font-bold text-gray-800"},"Add Services")],-1)),e("div",ce,[n(x,{to:{name:"artists-services-add",params:{id:a(r)}},class:"bg-black hover:bg-white text-white hover:text-black border border-black font-medium py-2 px-4 rounded-lg transition duration-150 ease-in-out cursor-pointer mr-2"},{default:_(()=>[...t[2]||(t[2]=[d(" Add Services ",-1)])]),_:1},8,["to"]),n(x,{to:{name:"artists"},class:"bg-black hover:bg-white text-white hover:text-black border border-black font-medium py-2 px-4 rounded-lg transition duration-150 ease-in-out cursor-pointer"},{default:_(()=>[...t[3]||(t[3]=[d(" Go Back ",-1)])]),_:1})])]),e("div",ue,[e("div",pe,[t[5]||(t[5]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),q(e("input",{type:"text",class:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-full",placeholder:"Search members...",onInput:t[0]||(t[0]=(...o)=>a(M)&&a(M)(...o)),"onUpdate:modelValue":t[1]||(t[1]=o=>w.value=o)},null,544),[[U,w.value]])])])]),e("div",me,[e("table",xe,[t[8]||(t[8]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Price "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Created At "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",ve,[(c(!0),i(B,null,G(u.value,(o,V)=>(c(),i("tr",{key:V,class:"hover:bg-gray-50 transition-colors duration-150"},[e("td",fe,[e("div",ge,[t[6]||(t[6]=e("div",{class:"h-10 w-10 flex-shrink-0"},[e("img",{class:"h-10 w-10 rounded-full object-cover",src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:""})],-1)),e("div",he,[e("div",we,v(o.name),1)])])]),e("td",be,[e("div",ye,v(o.price),1)]),e("td",_e,[e("div",ke,v(z(o.created_at)),1)]),e("td",Ce,[n(x,{to:{name:"artists-services-edit",params:{id:a(r),sid:o.id}},class:"text-indigo-600 hover:text-indigo-900 mr-3"},{default:_(()=>[...t[7]||(t[7]=[d("Edit ",-1)])]),_:1},8,["to"]),e("a",{href:"#",onClick:C(Ue=>R(o.id),["prevent"]),class:"text-red-600 hover:text-red-900"},"Delete",8,De)])]))),128))])])]),e("div",Se,[e("div",Me,[e("div",Re,[e("p",Be,[t[9]||(t[9]=d(" Showing ",-1)),e("span",Le,v(u.value.length),1),t[10]||(t[10]=d(" of ",-1)),e("span",Ne,v(g.value),1),t[11]||(t[11]=d(" results ",-1))])]),e("div",null,[e("nav",ze,[e("button",{onClick:C(P,["prevent"]),disabled:a(f).length==0||a(f).length==1,class:k([a(f).length==0||a(f).length==1?"cursor-not-allowed":"cursor-pointer","relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"])},[...t[12]||(t[12]=[e("span",{class:"sr-only"},"Previous",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])],10,Ae),e("button",{onClick:C(A,["prevent"]),disabled:S.value,class:k([S.value?"cursor-not-allowed":"cursor-pointer","relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 "])},[...t[13]||(t[13]=[e("span",{class:"sr-only"},"Next",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)])],10,Pe)])])])])])])])]),p.value?(c(),i("div",je,[e("div",Ve,[t[14]||(t[14]=e("h2",{class:"text-lg font-semibold text-gray-900"}," Delete record? ",-1)),t[15]||(t[15]=e("p",{class:"mt-2 text-sm text-gray-600"}," Are you sure you want to delete this record? ",-1)),e("div",Te,[e("button",{onClick:R,class:"rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 cursor-pointer"}," Cancel "),e("button",{onClick:j,disabled:m.value,class:k([m.value?"cursor-pointer-none":"cursor-pointer","rounded-md bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 cursor-pointer"])},[m.value?(c(),i("div",Fe)):(c(),i("span",Ee,"Delete"))],10,$e)])])])):F("",!0),n(O)])])],64)}}};export{Xe as default};
