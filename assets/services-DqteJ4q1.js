import{E as p,I as _,J as h,K as f,L as d,G as g,H as i,D as m,M as D,z as y,O as b,P as w,N as c,Q as A,R as P,S as R}from"./index-01Awn__5.js";const r="services",o="artists",S=3;let n=[],u="",s=[],v=null;async function x(t="",e){u=t;const a=p(i(c,o,e,r),g("deleted_at","==",null),d("name"),d("created_at","desc"),f(t),h(t+""),_(S));s=await m(a),v=s.docs[s.docs.length-1],n=[],n.push(s.docs[0])}async function F(t,e){const a=p(i(c,o,e,r),g("deleted_at","==",null),d("name"),d("created_at","desc"),f(u),h(u+""),P(t),_(S));s=await m(a),n.push(s.docs[0]),v=s.docs[s.docs.length-1]}async function N(t){if(n.length===0)return;n.pop();const e=n[n.length-1],a=p(i(c,o,t,r),g("deleted_at","==",null),d("name"),d("created_at","desc"),f(u),h(u+""),f(e),_(S));s=await m(a),v=s.docs.at(-1)}async function k(t){const e=p(i(c,o,t,r),g("deleted_at","==",null));return(await D(e)).data().count}async function z(t,e){const a=w(c,o,t,r,e),l=await A(a);return l.exists()?l.data():{}}async function B(t,e,a){try{const l={updated_at:y(),...e};return await b(w(c,o,a,r,t),l,{merge:!0}),!0}catch{return!1}}async function C(t,e){try{const a={updated_at:y(),created_at:y(),deleted_at:null,artist_id:e,...t};return await R(i(c,o,e,r),a)}catch{return!1}}export{F as a,v as b,n as c,s as d,C as e,z as f,N as g,x as l,S as p,k as t,B as u};
